# ============================================================================
# KITTY TERMINAL CONFIGURATION - 2025 OPTIMIZED
# ============================================================================
# A modern, high-performance Kitty configuration with Royal theme
# Compatible with: Kitty 0.32+
# Author: Optimized Configuration
# Last Updated: December 2025
# ============================================================================

# ============================================================================
# 1. FONTS & TYPOGRAPHY
# ============================================================================

# Font family - using Nerd Font for icon support and ligatures
font_family      JetBrains Mono Nerd Font
bold_font        auto
italic_font      auto
bold_italic_font auto

# Font size - balanced for readability on modern screens
font_size 12.0

# Font features - enable ligatures for better code readability
disable_ligatures never

# Line and column adjustments for visual balance
adjust_line_height  2
adjust_column_width 0

# ============================================================================
# 2. COLOR SCHEME & THEME - ROYAL
# ============================================================================

# Include the Royal theme (dark, professional, with rich purple tones)
include ~/.config/kitty/themes/Royal.conf

# Background opacity - modern glass-morphism effect
background_opacity 0.88

# Dim unfocused windows for better focus management
dim_opacity 0.70

# Cursor colors (override theme if needed)
# cursor #ffffff
# cursor_text_color #000000

# ============================================================================
# 3. CURSOR & VISUAL EFFECTS
# ============================================================================

# Cursor shape options: block, beam, underline
cursor_shape block

# Modern animated cursor with trail effect
cursor_blink_interval 0
cursor_trail 1
cursor_trail_decay "0.1 0.4"

# Stop cursor trail after this many seconds
cursor_trail_start_threshold 0

# ============================================================================
# 4. SCROLLBACK & BUFFER
# ============================================================================

# History buffer size - generous for long sessions
scrollback_lines 50000

# Scrollback pager with proper flag format
scrollback_pager less --chop-long-lines --raw-control-chars +INPUT_LINE_NUMBER

# Web search in scrollback
# scrollback_search_prompt 'Search scrollback (/): '

# ============================================================================
# 5. MOUSE & SELECTION
# ============================================================================

# Mouse hide timeout (seconds)
mouse_hide_wait 2.0

# URL styling
url_color #6495ed
url_style underline

# Open URLs with default browser
open_url_with default

# URL characters - include common special chars in URLs
select_by_word_characters :@-./_~?&=+%

# Copy on selection
copy_on_select no

# ============================================================================
# 6. WINDOW & LAYOUT CONFIGURATION
# ============================================================================

# Remember window size on startup
remember_window_size yes
initial_window_width  140
initial_window_height 40

# Window padding - modern, clean spacing
window_padding_width 6
window_padding_height 6

# Minimal borders for modern aesthetic
window_border_width 0
draw_minimal_borders yes

# Window margins
window_margin_width 0
single_window_margin_width -1

# Active and inactive window border colors
active_border_color #b5a3ff
inactive_border_color #4a3a6a

# Window decorations: full, titlebar-only, none
# Using 'none' for ultra-clean, borderless interface
window_decorations none

# ============================================================================
# 7. TAB BAR CONFIGURATION - POWERLINE STYLE
# ============================================================================

# Tab bar position: top for modern workflow
tab_bar_edge top

# Only show tab bar when 2+ tabs are open (ultra-clean mode)
tab_bar_min_tabs 2

# Tab bar style: powerline with slanted design
tab_bar_style powerline

# Tab bar margin and alignment
tab_bar_margin_width 0
tab_bar_align left

# Tab activity indicator with modern emoji
tab_activity_symbol "â¬¤"

# Custom tab title template
tab_title_template "{index}: {title}"

# Active tab styling - prominent and visible
active_tab_foreground   #ffffff
active_tab_background   #6366f1
active_tab_font_style   bold

# Inactive tab styling - subtle and clean
inactive_tab_foreground #a0a0a0
inactive_tab_background #2a2a3a
inactive_tab_font_style normal

# ============================================================================
# 8. LAYOUT MANAGEMENT
# ============================================================================

# Available layouts for window management
enabled_layouts tall,fat,grid,splits

# ============================================================================
# 9. PERFORMANCE & ADVANCED
# ============================================================================

# Repaint delay (milliseconds) - optimized for smooth visuals
repaint_delay 8

# Input delay (milliseconds)
input_delay 2

# Sync screen updates to monitor refresh rate
sync_to_monitor yes

# Shell integration - modern shell features
shell_integration enabled

# Allow remote control via Unix socket
allow_remote_control yes

# Clipboard control
clipboard_control write-clipboard write-primary

# ============================================================================
# 10. TERMINAL BELL
# ============================================================================

# Audio bell disabled - modern notification system
enable_audio_bell no

# Visual bell duration
visual_bell_duration 0.0

# Request window attention on bell
window_alert_on_bell yes

# ============================================================================
# 11. UPDATES & SYSTEM
# ============================================================================

# Linux display server (X11 or Wayland)
linux_display_server auto

# Check for updates
update_check_interval 0

# Allow hyperlinks
allow_hyperlinks yes

# ============================================================================
# 12. KEYBINDINGS - PRODUCTIVITY FOCUSED
# ============================================================================

# Do not clear default shortcuts - extend them
clear_all_shortcuts no

# --- Copy/Paste ---
map ctrl+shift+c copy_to_clipboard
map ctrl+shift+v paste_from_clipboard

# --- Scrolling ---
map ctrl+shift+up    scroll_line_up
map ctrl+shift+down  scroll_line_down
map ctrl+shift+page_up   scroll_page_up
map ctrl+shift+page_down scroll_page_down
map ctrl+shift+home scroll_home
map ctrl+shift+end  scroll_end

# --- Window Management ---
map f5 launch --location=hsplit --cwd=current
map f6 launch --location=vsplit --cwd=current
map ctrl+shift+w close_window
map ctrl+shift+] next_window
map ctrl+shift+[ previous_window

# --- Window Movement (quick navigation) ---
map ctrl+left  neighboring_window left
map ctrl+right neighboring_window right
map ctrl+up    neighboring_window up
map ctrl+down  neighboring_window down

# --- Window Resizing ---
map ctrl+shift+left  resize_window narrower 3
map ctrl+shift+right resize_window wider 3
map ctrl+shift+up    resize_window taller 3
map ctrl+shift+down  resize_window shorter 3

# --- Tab Management ---
map ctrl+shift+t new_tab
map ctrl+shift+q close_tab
map alt+right next_tab
map alt+left  previous_tab
map ctrl+shift+. move_tab_forward
map ctrl+shift+, move_tab_backward
map ctrl+shift+alt+t set_tab_title

# --- Layout Switching ---
map ctrl+shift+l next_layout
map ctrl+shift+enter new_window_with_cwd

# --- Font Sizing ---
map ctrl+shift+equal  change_font_size all +1.0
map ctrl+shift+minus  change_font_size all -1.0
map ctrl+shift+0      change_font_size all 0

# --- Tools & Utilities ---
map ctrl+shift+f11    toggle_fullscreen
map ctrl+shift+u      kitten unicode_input
map ctrl+shift+f2     edit_config_file
map ctrl+shift+escape kitty_shell window
map ctrl+shift+e      open_url_with_hints

# --- Miscellaneous ---
# Reload config without restart
map ctrl+shift+f5 load_config_file

# ============================================================================
# 13. BEHAVIOR & SAFETY
# ============================================================================

# Confirm before closing window with running programs
confirm_os_window_close 1

# Close window without confirmation when shell exits
close_on_child_death no

# Allow programs to read/write clipboard
# clipboard_control write-clipboard write-primary read-clipboard-ask read-primary-ask

# ============================================================================
# 14. OPTIONAL BACKGROUND IMAGE
# ============================================================================

# Uncomment and set path to enable background image
# background_image ~/.config/kitty/background.jpg
# background_image_layout cscaled
# background_image_opacity 0.3

# ============================================================================
# 15. LINUX OPTIMIZATIONS (Ubuntu/Debian)
# ============================================================================

# Linux-specific display server detection (X11/Wayland)
# This is already configured at line 200, kept for reference

# For better compatibility with different window managers
# wayland_titlebar_color background

# Note: macOS-specific options are not needed for Linux installations

# ============================================================================
# NOTES & QUICK REFERENCE
# ============================================================================
#
# Config reload: Ctrl+Shift+F5 (no restart needed)
# Edit config: Ctrl+Shift+F2 (opens in configured editor)
# Shell: Ctrl+Shift+Escape (access kitty shell)
# Unicode: Ctrl+Shift+U (insert unicode characters)
#
# Theme: Royal (dark, professional palette)
# Status: Modern, optimized for 2025 workflows
#
# For more options: https://sw.kovidgoyal.net/kitty/conf/
# Theme repository: https://github.com/dexpota/kitty-themes
# ============================================================================
